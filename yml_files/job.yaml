$schema: https://azuremlschemas.azureedge.net/latest/commandJob.schema.json
type: command
command: >
  python main.py
  --input_data ${{inputs.input_data}}
  --output_dir ${{outputs.output_dir}}

inputs:
  input_data:
    type: uri_file
    path: azureml:fruits_data_asset:1  # Name and version of the data asset

outputs:
  output_dir:
    type: uri_folder

environment: azureml://registries/azureml/environments/lightgbm-3.3/versions/53  # Using the curated environment from the registry


# environment:
#   name: training-environment
#   conda_file: ./conda_dependencies.yml
#   image: mcr.microsoft.com/azureml/openmpi4.1.0-ubuntu20.04

compute: compute-cluster-cli01

code: ../
description: Train a model using fruits data
experiment_name: fruits_training_experiment